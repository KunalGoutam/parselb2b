<div class="container body" id="shipments-page">
   <div class="main_container">
      <div class="right_col" role="main">
         <div class="">
            <div class="clearfix"></div>
            <div class="row">
               <div class="col-md-12 col-sm-12 col-xs-12">
                  <div class="x_panel" style="height: 500px">
                     <div class="x_title">
                        <h3>Cash Reconciliation</h3>
                        <div class="clearfix"></div>
                     </div>
                     <div class="x_content">
                        <div class="row">
                           <div class="col-md-3">
                              <label>Select Date</label>
                              <div class="form-group">
                                 <input type="date" class="form-control" ng-model="date.fromDate" ng-change="onDateChange()"/>
                              </div>
                           </div>
                           <!--div class="col-md-4">
                              <label>Select Driver</label>
                              <ui-select ng-model="selectedDriver.driver" theme="selectize" ng-disabled="disabled" ng-change="getAmountCollectedByDriver()">
                                 <ui-select-match placeholder="Select or search DE">{{$select.selected.firstName}} {{$select.selected.lastName}}</ui-select-match>
                                 <ui-select-choices repeat="driver in drivers | filter: $select.search">
                                    <span ng-bind-html="driver.firstName | highlight: $select.search"></span>
                                    <span ng-bind-html="driver.lastName | highlight: $select.search"></span>
                                 </ui-select-choices>
                              </ui-select>
                           </!div-->
                           <!--div class="col-md-4">
                              <label>&nbsp;</label>
                              <h4>Amount Collected - {{formatAmount(amount.amtCollected)}} Rs</h4>
                           </div-->
                           <div class="col-md-3">
                           <div class="form-group">
                              <label>&nbsp;</label>
                              <button class="btn btn-block btn-success" ng-click="getReports()">GET REPORTS</button>
                           </div>
                        </div>
                        </div>
                        <!--div class="row">
                           <div class="col-md-4">
                              <label>Actual amount handed over</label>
                              <input type="number" class="form-control" ng-model="amount.actualAmount"/>
                           </div>
                           <div class="col-md-3">
                              <label>&nbsp;</label>
                              <button class="btn btn-block btn-primary" ng-click="saveActualAmount()">Save</button>
                           </div>
                           
                        </div-->
                        <div class="row" id="responsive-table">
                           <table class="table table-striped table-bordered">
                              <thead>
                                 <th>Driver Name</th>
                                 <th>Cash Collected</th>
                                 <th>Cash Handed Over</th>
                                 <th>Diff</th>
                                 <th>Invoices</th>
                                 <th>Total Cash Invoice</th>
                                 <th>Online</th>
                                 <th>Online Amt</th>
                                 <th>Credit</th>
                                 <th>Credit Amt</th>
                                 <th>Cheque</th>
                                 <th>Cheque Amt</th>
                                 <th>NEFT</th>
                                 <th>NEFT Amt</th>
                                 <th >Action</th>
                              </thead>
                              <tbody ng-repeat="iir in iirs">
                                 <td>
                                 <a ng-href={{yourDynamicURL+iir.driverId+"&date="}}{{getFromDate(date.fromDate)}} target="_blank">
                                    <span>{{iir.driverName}}</span>
                                 </a>
                                 </td>
                                 <td>{{formatAmount(iir.cash)}}</td>
                                 <td>
                                    {{formatAmount(iir.reconciledAmount)}}  &nbsp;<i class="fa fa-pencil-square-o" ng-click="openDialog(iir)"></i>
                                 </td>
                                 <td>{{formatAmount(iir.reconciledDiff)}}</td>
                                 <td>{{iir.totalInvoices}}</td>
                                 <td>{{iir.cod}}</td>
                                 <td>{{iir.online}}</td>
                                 <td>{{iir.onlineAmount}}</td>
                                 <td>{{iir.credit}}</td>
                                 <td>{{iir.creditAmount}}</td>
                                 <td>{{iir.cheque}}</td>
                                 <td>{{iir.chequeAmount}}</td>
                                 <td>{{iir.neft}}</td>
                                 <td>{{iir.neftAmount}}</td>
                                 <td>
                                 <button type="button" class="btn btn-info" ng-click="sendtosap(iir)">SEND TO SAP</button>
                                 </td>
                              </tbody>
                           </table>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </div>
   </div>
</div>

<div class="modal fade" id="addAmountModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
   <div class="modal-dialog ">
      <div class="modal-content">
         <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">Ã—</span><span class="sr-only">Close</span></button>
            <h4 class="modal-title" id="base-modal-label">Amount Handed Over</h4>
         </div>
         <div id="pwd-modal-body">
            <div class="row" style="padding:10px;">
               <div class="col-md-12">
                  <label>Please enter your cash value</label>
                  <div class="form-group">
                     <input class="form-control" type="text" ng-model="app.cash"/>
                  </div>
               </div>
            </div>
         </div>
         <div class="modal-footer" id="pwd-modal-footer">
            <button type="button" class="btn btn-info" ng-click="save()">Save</button>
            <button type="button" class="btn btn-danger" data-dismiss="modal">Cancel</button>
         </div>
      </div>
   </div>
</div>
<script src="js/utils/custom.js"></script>